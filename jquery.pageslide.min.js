/*
 * jQuery pageSlide
 * Version 2.0
 * http://srobbin.com/jquery-pageslide/
 *
 * jQuery Javascript plugin which slides a webpage over to reveal an additional interaction pane.
 *
 * Copyright (c) 2011 Scott Robbin (srobbin.com)
 * Dual licensed under the MIT and GPL licenses.
*/
(function(b){var h=b("body"),a=b("#pageslide"),f=!1,j;0==a.length&&(a=b("<div />").attr("id","pageslide").css("display","none").appendTo(b("body")));b.fn.pageslide=b.fn.pageSlide=function(d){function k(c){0===c.indexOf("#")?b(c).clone(!0).appendTo(a.empty()).show():(e.iframe?(c=b("<iframe />").attr({src:c,frameborder:0,hspace:0}).css({width:"100%",height:"100%"}),a.html(c)):a.load(c),a.data("localEl",!1))}function g(){var c=a.outerWidth(!0),b={},d={};if(!a.is(":visible")&&!f){f=!0;switch(e.direction){case "left":a.css({left:"auto",right:"-"+c+"px"});b["margin-left"]="-="+c;d.right="+="+c;break;default:a.css({left:"-"+c+"px",right:"auto"}),b["margin-left"]="+="+c,d.left="+="+c}h.animate(b,e.speed);a.data(e).show().animate(d,e.speed,function(){f=!1})}}var e={speed:200,direction:"right",modal:!1,iframe:!0};d&&"object"==typeof d&&b.extend(e,d);this.click(function(c){var d=b(this),f=d.attr("href"),h=a.is(":visible");c.preventDefault();c.stopPropagation();h&&a.data("direction")!=e.direction?b.pageslide.close(function(){k(f);g()}):h&&d[0]==j?b.pageslide.close():(k(f),a.is(":hidden")&&g());j=d[0]})};b.pageslide=b.pageSlide={close:function(d){var a=b("#pageslide"),g=a.outerWidth(!0),e=a.data("speed"),c={},i={};if(!a.is(":hidden")&&!f){f=!0;switch(a.data("direction")){case "left":c["margin-left"]="+="+g;i.right="-="+g;break;default:c["margin-left"]="-="+g,i.left="-="+g}a.animate(i,e);h.animate(c,e,function(){a.hide();f=!1;"undefined"!=typeof d&&d()})}}};a.click(function(a){a.stopPropagation()});b(document).bind("click keyup",function(d){"keyup"==d.type&&27!=d.keyCode||a.is(":visible")&&!a.data("modal")&&b.pageslide.close()})})(jQuery);